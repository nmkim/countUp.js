function countUp(f,m,n,p,q,d){function h(b,c){a.startTime=null;a.duration=1E3*c||a.duration;a.startVal=a.frameVal;a.endVal=b;a.rAF=requestAnimationFrame(a.count)}function k(){this.countDown=this.startVal>this.endVal?!0:!1}this.options=d||{useEasing:!0,useGrouping:!0,separator:",",decimal:"."};var l=0;d=["webkit","moz","ms"];for(var e=0;e<d.length&&!window.requestAnimationFrame;++e)window.requestAnimationFrame=window[d[e]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[d[e]+"CancelAnimationFrame"]|| window[d[e]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(a,c){var g=(new Date).getTime(),d=Math.max(0,16-(g-l)),e=window.setTimeout(function(){a(g+d)},d);l=g+d;return e});window.cancelAnimationFrame||(window.cancelAnimationFrame=function(a){clearTimeout(a)});var a=this;this.d="string"===typeof f?document.getElementById(f):f;this.startVal=Number(m);this.endVal=Number(n);this.remaining=this.timestamp=this.startTime=null;this.frameVal=this.startVal; this.rAF=null;this.decimals=Math.max(0,p||0);this.dec=Math.pow(10,this.decimals);this.duration=1E3*q||2E3;this.resumeDuration=1E3;this.resumeCallback=null;this.lastProgress=-1;k();this.easeOutExpo=function(a,c,d,e){return d*(-Math.pow(2,-10*a/e)+1)*1024/1023+c};this.count=function(b){null===a.startTime&&(a.startTime=b);a.timestamp=b;b-=a.startTime;a.remaining=a.duration-b;if(a.options.useEasing)if(a.countDown){var c=a.easeOutExpo(b,0,a.startVal-a.endVal,a.duration);a.frameVal=a.startVal-c}else a.frameVal= a.easeOutExpo(b,a.startVal,a.endVal-a.startVal,a.duration);else a.countDown?(c=b/a.duration*(a.startVal-a.endVal),a.frameVal=a.startVal-c):a.frameVal=a.startVal+b/a.duration*(a.endVal-a.startVal);a.frameVal=Math.round(a.frameVal*a.dec)/a.dec;a.frameVal=a.countDown?a.frameVal<a.endVal?a.endVal:a.frameVal:a.frameVal>a.endVal?a.endVal:a.frameVal;c=a.formatNumber(a.frameVal.toFixed(a.decimals));a.lastProgress!=c&&(a.lastProgress=c,a.d.innerHTML=c,null!=a.progressCallback&&a.progressCallback(Number(c))); b<a.duration?a.rAF=requestAnimationFrame(a.count):null!=a.resumeCallback?(a.resumeCallback(),a.resumeCallback=null):null!=a.completeCallback&&a.completeCallback()};this.start=function(b,c){a.progressCallback=b;a.completeCallback=c;a.resumeCallback=null;a.lastProgress=-1;isNaN(a.endVal)||isNaN(a.startVal)?(console.log("countUp error: startVal or endVal is not a number"),a.d.innerHTML="--"):a.rAF=requestAnimationFrame(a.count);return!1};this.stop=function(){cancelAnimationFrame(a.rAF)};this.reset=function(){a.startTime= null;cancelAnimationFrame(a.rAF);a.d.innerHTML=a.formatNumber(a.startVal.toFixed(a.decimals))};this.resume=function(b,c){a.startTime=null;a.resumeCallback=null;null!=b&&null!=c?b!=a.endVal&&(k(),this.isRunnig()?(a.duration=a.resumeDuration,a.startVal=a.frameVal,cancelAnimationFrame(a.rAF),requestAnimationFrame(a.count),this.resumeCallback=function(){h(b,c)}):h(b,c)):(a.startTime=null,a.duration=a.remaining,a.startVal=a.frameVal,requestAnimationFrame(a.count))};this.isRunnig=function(){return a.lastProgress!= a.endVal};this.formatNumber=function(b){var c,d;c=(b+"").split(".");b=c[0];c=1<c.length?a.options.decimal+c[1]:"";d=/(\d+)(\d{3})/;if(a.options.useGrouping)for(;d.test(b);)b=b.replace(d,"$1"+a.options.separator+"$2");return b+c};a.d.innerHTML=a.formatNumber(a.startVal.toFixed(a.decimals))};
